{% extends "../base.html" %}

<head>
    ...
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>

{% load i18n %}

{% block content %}
    <h1>Welcome, {{ user.username }}!</h1>

    <h2>Choose an Option:</h2>

    <p> {{ user.username }} </p>

    <ul>
        <li><a href="#">Take the Exam</a></li>
        <li><a href="#">View Previous Assignments</a></li>
    </ul>

    <form method="POST" action="{% url 'test' %}">
        {% csrf_token %}
        <label for="math-editor">Solution</label><textarea id="math-editor" name="math_content"></textarea>
        <button type="submit">Submit</button>
    </form>

    <script>

        MathJax.Hub.Configured(function () {

            CKEDITOR.replace('math-editor', {
                extraPlugins: 'mathjax',
                mathJaxLib: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_SVG'
            });

            // Render math using MathJax in the preview element
            CKEDITOR.instances['math-editor'].on('change', function () {
                MathJax.Hub.Queue(['Typeset', MathJax.Hub, 'math-preview']);
            });
        });
    </script>
{% endblock %}
